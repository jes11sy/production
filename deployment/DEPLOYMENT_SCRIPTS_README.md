# üöÄ –°–ö–†–ò–ü–¢–´ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ì–û –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Ø

–ù–∞–±–æ—Ä —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è production —Å–µ—Ä–≤–µ—Ä–æ–º Lead Schema.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [üèóÔ∏è auto-deploy.sh](#-auto-deploysh) - –ü–æ–ª–Ω–æ–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- [üë§ create-admin.sh](#-create-adminsh) - –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
- [üîÑ update-app.sh](#-update-appsh) - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [üìä monitor-system.sh](#-monitor-systemsh) - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã

---

## üèóÔ∏è auto-deploy.sh

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª–Ω–æ–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Å –Ω—É–ª—è.

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
1. ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (Docker, Nginx, etc.)
2. ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç firewall –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
3. ‚úÖ –ö–ª–æ–Ω–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç
4. ‚úÖ –°–æ–∑–¥–∞–µ—Ç .env —Ñ–∞–π–ª —Å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏
5. ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (Let's Encrypt)
6. ‚úÖ –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
7. ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus + Grafana)
8. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```bash
# –í–ê–ñ–ù–û: –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –∏–∑–º–µ–Ω–∏—Ç–µ REPO_URL –≤ —Å–∫—Ä–∏–ø—Ç–µ!
sudo nano /path/to/auto-deploy.sh  # –°—Ç—Ä–æ–∫–∞ 29: –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

# –ü–æ–ª–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
sudo ./auto-deploy.sh

# –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
sudo ./auto-deploy.sh --skip-deps

# –ë–µ–∑ SSL (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)  
sudo ./auto-deploy.sh --no-ssl

# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
./auto-deploy.sh --help
```

### ‚ö†Ô∏è –í–ê–ñ–ù–û:
1. **–ò–∑–º–µ–Ω–∏—Ç–µ REPO_URL** –Ω–∞ –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. **–ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ –æ—Ç root** (sudo)
3. **–°–∫—Ä–∏–ø—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è** –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è .env —Ñ–∞–π–ª–∞
4. **–£–∫–∞–∂–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ë–î** –≤ .env –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º

---

## üë§ create-admin.sh

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç—É backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ä–æ–ª—å—é admin
- ‚úÖ –•–µ—à–∏—Ä—É–µ—Ç –ø–∞—Ä–æ–ª—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –ª–æ–≥–∏–Ω–∞

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```bash
# –ó–∞–ø—É—Å–∫ –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/leadschem
sudo ./deployment/create-admin.sh
```

–°–∫—Ä–∏–ø—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç:
- üìù –õ–æ–≥–∏–Ω –∞–¥–º–∏–Ω–∞
- üîê –ü–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤)
- üìß Email
- üë§ –ò–º—è

### –ü—Ä–∏–º–µ—Ä:
```
üìù –í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω –∞–¥–º–∏–Ω–∞: admin
üîê –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∞: ********
üìß –í–≤–µ–¥–∏—Ç–µ email –∞–¥–º–∏–Ω–∞: admin@lead-schem.ru
üë§ –í–≤–µ–¥–∏—Ç–µ –∏–º—è –∞–¥–º–∏–Ω–∞: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
```

---

## üîÑ update-app.sh

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ –ø—Ä–æ—Å—Ç–æ–µ–≤.

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
1. ‚úÖ –°–æ–∑–¥–∞–µ—Ç backup –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
2. ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–¥ –∏–∑ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
3. ‚úÖ –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
4. ‚úÖ –í—ã–ø–æ–ª–Ω—è–µ—Ç rolling update (–±–µ–∑ –ø—Ä–æ—Å—Ç–æ–µ–≤)
5. ‚úÖ –ü—Ä–∏–º–µ–Ω—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
6. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
7. ‚úÖ –û—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```bash
cd /opt/leadschem

# –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å backup
sudo ./deployment/update-app.sh

# –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–µ–∑ backup
sudo ./deployment/update-app.sh --quick

# –¢–æ–ª—å–∫–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
sudo ./deployment/update-app.sh --migrations-only

# –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–µ–∑ backup
sudo ./deployment/update-app.sh --no-backup

# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
./deployment/update-app.sh --help
```

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- üîÑ **Rolling update** - —Å–Ω–∞—á–∞–ª–∞ backend, –ø–æ—Ç–æ–º frontend
- üíæ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup** –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
- üîô **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–∫–∞—Ç** –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚ö° **–£–º–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞** - —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

---

## üìä monitor-system.sh

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è production —Å–∏—Å—Ç–µ–º—ã.

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
- üíª **–°–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã** (CPU, –ø–∞–º—è—Ç—å, –¥–∏—Å–∫)
- üê≥ **Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã** (—Å—Ç–∞—Ç—É—Å, —Ä–µ—Å—É—Ä—Å—ã)
- üåê **–°–µ—Ç–µ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã** (API, —Å–∞–π—Ç, –ë–î)
- üîí **Nginx –∏ SSL** (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã)
- üìù **–õ–æ–≥–∏** (–æ—à–∏–±–∫–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å)
- üóÑÔ∏è **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** (—Ä–∞–∑–º–µ—Ä, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)
- üíæ **Backup** (–ø–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–ø–∏–∏)

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```bash
cd /opt/leadschem

# –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
./deployment/monitor-system.sh

# –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
./deployment/monitor-system.sh --quick

# –¢–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
./deployment/monitor-system.sh --system

# –¢–æ–ª—å–∫–æ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
./deployment/monitor-system.sh --docker

# –¢–æ–ª—å–∫–æ —Å–µ—Ç–µ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã
./deployment/monitor-system.sh --network

# –¢–æ–ª—å–∫–æ Nginx –∏ SSL
./deployment/monitor-system.sh --nginx

# –¢–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤
./deployment/monitor-system.sh --logs

# –¢–æ–ª—å–∫–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
./deployment/monitor-system.sh --database

# –¢–æ–ª—å–∫–æ backup —Ñ–∞–π–ª—ã
./deployment/monitor-system.sh --backup

# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
./deployment/monitor-system.sh --help
```

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë               üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì LEAD-SCHEM                      ‚ïë
‚ïë                    Mon Jan 15 21:30:00 UTC 2025             ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

=== üíª –°–ò–°–¢–ï–ú–ù–´–ï –†–ï–°–£–†–°–´ ===
[OK] CPU –∑–∞–≥—Ä—É–∑–∫–∞: 15.2%
[OK] Load Average: 0.45
[OK] –ü–∞–º—è—Ç—å: 2.1G/8.0G (26.3%)

=== üê≥ DOCKER –ö–û–ù–¢–ï–ô–ù–ï–†–´ ===
[OK] leadschem_backend: Up 2 hours
[OK] leadschem_frontend: Up 2 hours
[OK] leadschem_redis: Up 2 hours

=== üìã –°–í–û–î–ö–ê –°–û–°–¢–û–Ø–ù–ò–Ø ===
[OK] –û–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: –í–°–ï –°–ï–†–í–ò–°–´ –†–ê–ë–û–¢–ê–Æ–¢ –ù–û–†–ú–ê–õ–¨–ù–û ‚úÖ
```

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤

```bash
# –°–∫–∞—á–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp deployment/*.sh root@your-server:/root/

# –ò–ª–∏ –∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone your-repo-url /opt/leadschem

# –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
chmod +x /opt/leadschem/deployment/*.sh
```

### 2. –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

```bash
# 1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ auto-deploy.sh
nano /opt/leadschem/deployment/auto-deploy.sh
# –ò–∑–º–µ–Ω–∏—Ç–µ REPO_URL –Ω–∞ –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (—Å—Ç—Ä–æ–∫–∞ 29)

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
cd /opt/leadschem
sudo ./deployment/auto-deploy.sh

# 3. –°–∫—Ä–∏–ø—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è .env
# –£–∫–∞–∂–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î:
nano /opt/leadschem/.env
# –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_USER, YOUR_PASSWORD, etc. –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

# 4. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
sudo ./deployment/auto-deploy.sh

# 5. –°–æ–∑–¥–∞–π—Ç–µ –∞–¥–º–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
sudo ./deployment/create-admin.sh
```

### 3. –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
sudo /opt/leadschem/deployment/update-app.sh

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã
/opt/leadschem/deployment/monitor-system.sh --quick

# –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
sudo /opt/leadschem/deployment/create-admin.sh
```

---

## üìÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### Cron –∑–∞–¥–∞—á–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ crontab (sudo crontab -e)

# –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ 9:00
0 9 * * * /opt/leadschem/deployment/monitor-system.sh --quick >> /var/log/leadschem-monitor.log 2>&1

# –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –ø–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ 6:00  
0 6 * * 0 /opt/leadschem/deployment/monitor-system.sh >> /var/log/leadschem-full-check.log 2>&1
```

---

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

**‚ùå "Permission denied"**
```bash
sudo chmod +x /opt/leadschem/deployment/*.sh
```

**‚ùå "Docker not found"**
```bash
sudo ./deployment/auto-deploy.sh --skip-deps  # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker –≤—Ä—É—á–Ω—É—é
```

**‚ùå "Backend –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker compose -f /opt/leadschem/deployment/docker-compose.production.yml logs backend

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker compose -f /opt/leadschem/deployment/docker-compose.production.yml restart backend
```

**‚ùå "SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω"**
```bash
# –ü–æ–ª—É—á–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤—Ä—É—á–Ω—É—é
sudo certbot certonly --webroot -w /var/www/html -d lead-schem.ru -d www.lead-schem.ru
```

### –õ–æ–≥–∏ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:

```bash
# –õ–æ–≥–∏ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker compose -f /opt/leadschem/deployment/docker-compose.production.yml logs -f

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker compose -f /opt/leadschem/deployment/docker-compose.production.yml logs -f backend

# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker compose -f /opt/leadschem/deployment/docker-compose.production.yml ps

# –°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏
journalctl -u nginx -f
tail -f /var/log/nginx/error.log
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥ –≤—ã—à–µ
2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É:** `./deployment/monitor-system.sh`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª** –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
4. **–£–±–µ–¥–∏—Ç–µ—Å—å –≤ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ë–î** –∏ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ production

- [ ] –ò–∑–º–µ–Ω–µ–Ω REPO_URL –≤ auto-deploy.sh
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω .env —Ñ–∞–π–ª —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –ë–î
- [ ] –ü–æ–ª—É—á–µ–Ω—ã SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- [ ] –°–æ–∑–¥–∞–Ω –∞–¥–º–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ backup
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã cron –∑–∞–¥–∞—á–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

üéâ **–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** 